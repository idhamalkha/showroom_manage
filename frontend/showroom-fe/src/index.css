@import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Inter:wght@400;600&display=swap');
@import './styles/theme.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
html, 
body, 
#root {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  background: var(--app-bg);
  color: var(--panel-text);
  transition: background-color 0.3s ease, color 0.3s ease;
  -webkit-font-smoothing: antialiased;
}

/* Clear App.css styles that conflict */
#root {
  margin: 0;
  padding: 0;
  text-align: left;
  max-width: none;
}

/* Global variables and theme mapping
   - Default :root = light (page light)
   - [data-theme="dark"] = dark (page dark)
*/
:root {
  --sidebar-w: 260px;
  --sidebar-collapsed-w: 80px;

  /* default (light page) */
  --app-bg: #e7f1ed;    /* halaman background saat tema light */
  --card-bg: #fffffe;   /* card color saat tema light */
  --panel-text: #213547; /* teks pada panel saat background terang */
  --muted: rgba(33,53,71,0.6); /* lebih kontras untuk teks sekunder */

  /* panel / UI helpers for light page */
  --panel-bg: var(--card-bg);
  --peek-icon-bg: rgba(33,53,71,0.06);
  --peek-icon-color: #213547;
  --peek-icon-border: rgba(33,53,71,0.08);
  --accent: #19936f;

  /* hover for light page */
  --panel-hover-bg: #13313e;
}

/* when data-theme="dark" -> dark page and dark cards */
[data-theme="dark"] {
  --app-bg: #062335;    /* halaman background saat tema dark */
  --card-bg: #13313e;   /* card color saat tema dark */
  --panel-text: #ffffff; /* teks pada panel saat background gelap */
  --muted: rgba(255,255,255,0.6); /* tingkat kontras yang serupa untuk dark */

  /* panel / UI helpers (used by sidebar.css) */
  --panel-bg: var(--card-bg);
  --peek-icon-bg: rgba(255,255,255,0.06);
  --peek-icon-color: #ffffff;
  --peek-icon-border: rgba(255,255,255,0.06);
  --accent: #24c86e;

  /* hover for dark page */
  --panel-hover-bg: #fffffe;
}

/* Ensure top-level containers use app background and smooth transitions */
html, body, #root, .layout-container {
  background: var(--app-bg);
  color: var(--panel-text);
  min-height: 100%;
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1);
}

/* Page wrapper that follows theme variables and transitions smoothly */
.dashboard-page {
  background: var(--app-bg);
  color: var(--panel-text);
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1);
  min-height: 100%;
}

/* main content area already uses var(--app-bg) via CSS */
.main-content {
  background: var(--app-bg);
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1), margin-left 0.24s ease;
}

/* Card styling used by Dashboard */
.dashboard-card {
  background: var(--card-bg);
  color: var(--panel-text);
  border-radius: 8px;
  padding: 1.25rem;
  box-shadow: 0 6px 18px rgba(2,10,18,0.12);
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1), box-shadow 0.36s ease, transform 0.24s ease;
}

/* Logout button styled via CSS so color transitions with theme vars */
.btn-logout {
  background: var(--card-bg);
  color: var(--panel-text);
  border: 1px solid transparent;
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1), border-color 0.36s ease;
}
.btn-logout:hover {
  filter: brightness(0.98);
}

/* sidebar inner panel transitions so sidebar color changes smoothly */
.sidebar .inner-panel {
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1), box-shadow 0.36s ease;
}

/* menu items: subtle transition for hover/active state when theme changes */
.menu-item {
  transition: background 0.28s ease, color 0.28s ease, transform 0.18s ease;
}

/* peek/collapse icons: animate background / border color changes */
.sidebar-peek-btn .peek-icon,
.collapse-btn .collapse-icon,
.theme-toggle {
  transition: background 0.28s ease, color 0.28s ease, box-shadow 0.28s ease, border-color 0.28s ease, transform 0.18s ease;
}

/* prefers-reduced-motion respect */
@media (prefers-reduced-motion: reduce) {
  html, body, #root, .layout-container, .main-content, .dashboard-card, .sidebar .inner-panel, .menu-item,
  .sidebar-peek-btn .peek-icon, .collapse-btn .collapse-icon, .theme-toggle {
    transition: none !important;
    animation: none !important;
  }
}

/* Ensure background follows data-theme on body/html and allow smooth transitions */
body[data-theme="light"],
html[data-theme="light"],
:root[data-theme="light"] {
  background: var(--app-bg);
  color: var(--panel-text);
}

body[data-theme="dark"],
html[data-theme="dark"],
:root[data-theme="dark"] {
  background: var(--app-bg);
  color: var(--panel-text);
}
 
/* Utility class used by Sidebar to enable smooth transition during toggle */
.theme-transition {
  transition: background 0.36s cubic-bezier(.2,.9,.2,1), color 0.36s cubic-bezier(.2,.9,.2,1);
}

/* base/app font */
html, body {
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* Hide scrollbar but keep scroll functionality */
.hide-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;     /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;             /* Chrome, Safari and Opera */
}

/* Fade in animation for tab content */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-in-out;
}
